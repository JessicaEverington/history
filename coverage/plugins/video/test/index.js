var cov_e98cbze1n=function(){var path='plugins/video/test/index.js',hash='36e3bb6aa335c0253b2db350ba0de25211f8e941',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'plugins/video/test/index.js',statementMap:{'0':{start:{line:1,column:13},end:{line:1,column:34}},'1':{start:{line:3,column:0},end:{line:57,column:3}},'2':{start:{line:4,column:15},end:{line:4,column:30}},'3':{start:{line:5,column:25},end:{line:5,column:52}},'4':{start:{line:6,column:16},end:{line:6,column:32}},'5':{start:{line:7,column:22},end:{line:7,column:44}},'6':{start:{line:8,column:15},end:{line:8,column:30}},'7':{start:{line:9,column:17},end:{line:9,column:34}},'8':{start:{line:11,column:2},end:{line:13,column:5}},'9':{start:{line:15,column:14},end:{line:15,column:31}},'10':{start:{line:16,column:16},end:{line:16,column:42}},'11':{start:{line:18,column:18},end:{line:18,column:38}},'12':{start:{line:19,column:15},end:{line:19,column:39}},'13':{start:{line:21,column:2},end:{line:56,column:5}},'14':{start:{line:22,column:19},end:{line:22,column:36}},'15':{start:{line:23,column:4},end:{line:23,column:32}},'16':{start:{line:24,column:4},end:{line:55,column:7}},'17':{start:{line:25,column:6},end:{line:27,column:7}},'18':{start:{line:26,column:8},end:{line:26,column:40}},'19':{start:{line:29,column:22},end:{line:29,column:62}},'20':{start:{line:30,column:18},end:{line:35,column:10}},'21':{start:{line:36,column:22},end:{line:39,column:7}},'22':{start:{line:41,column:6},end:{line:46,column:9}},'23':{start:{line:48,column:6},end:{line:54,column:9}},'24':{start:{line:49,column:8},end:{line:49,column:88}},'25':{start:{line:50,column:8},end:{line:50,column:83}},'26':{start:{line:51,column:8},end:{line:51,column:130}},'27':{start:{line:53,column:8},end:{line:53,column:21}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:3,column:45},end:{line:3,column:46}},loc:{start:{line:3,column:59},end:{line:57,column:1}}},'1':{name:'(anonymous_1)',decl:{start:{line:21,column:58},end:{line:21,column:59}},loc:{start:{line:21,column:70},end:{line:56,column:3}}},'2':{name:'(anonymous_2)',decl:{start:{line:24,column:29},end:{line:24,column:30}},loc:{start:{line:24,column:46},end:{line:55,column:5}}},'3':{name:'(anonymous_3)',decl:{start:{line:48,column:36},end:{line:48,column:37}},loc:{start:{line:48,column:50},end:{line:54,column:7}}}},branchMap:{'0':{loc:{start:{line:25,column:6},end:{line:27,column:7}},type:'if',locations:[{start:{line:25,column:6},end:{line:27,column:7}},{start:{line:25,column:6},end:{line:27,column:7}}]},'1':{loc:{start:{line:51,column:22},end:{line:51,column:68}},type:'binary-expr',locations:[{start:{line:51,column:22},end:{line:51,column:62}},{start:{line:51,column:66},end:{line:51,column:68}}]}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0},f:{'0':0,'1':0,'2':0,'3':0},b:{'0':[0,0],'1':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const tape=(++cov_e98cbze1n.s[0],require('tape-catch'));++cov_e98cbze1n.s[1];tape('Verify /video route',{skip:false},describe=>{++cov_e98cbze1n.f[0];const hapi=(++cov_e98cbze1n.s[2],require('hapi'));const hapiReactViews=(++cov_e98cbze1n.s[3],require('hapi-react-views'));const inert=(++cov_e98cbze1n.s[4],require('inert'));const querystring=(++cov_e98cbze1n.s[5],require('querystring'));const path=(++cov_e98cbze1n.s[6],require('path'));const vision=(++cov_e98cbze1n.s[7],require('vision'));++cov_e98cbze1n.s[8];require('babel-core/register')({presets:['react','es2015']});const lib=(++cov_e98cbze1n.s[9],require('../lib'));const utils=(++cov_e98cbze1n.s[10],require('../../utils/lib'));const plugins=(++cov_e98cbze1n.s[11],[inert,vision,lib]);const port=(++cov_e98cbze1n.s[12],utils.config.get('port'));++cov_e98cbze1n.s[13];describe.test('* Valid React.js view',{skip:false},assert=>{++cov_e98cbze1n.f[1];const server=(++cov_e98cbze1n.s[14],new hapi.Server());++cov_e98cbze1n.s[15];server.connection({port});++cov_e98cbze1n.s[16];server.register(plugins,pluginError=>{++cov_e98cbze1n.f[2];++cov_e98cbze1n.s[17];if(pluginError){++cov_e98cbze1n.b[0][0];++cov_e98cbze1n.s[18];return assert.fail(pluginError);}else{++cov_e98cbze1n.b[0][1];}const sources=(++cov_e98cbze1n.s[19],'2012-fireplace.mp4,2012-fireplace.webm');const url=(++cov_e98cbze1n.s[20],`/video?${querystring.stringify({gallery:'demo',sources,w:1280,h:720})}`);const request=(++cov_e98cbze1n.s[21],{method:'GET',url});++cov_e98cbze1n.s[22];server.views({engines:{jsx:hapiReactViews},relativeTo:path.join(__dirname,'../../../')});++cov_e98cbze1n.s[23];return server.inject(request,response=>{++cov_e98cbze1n.f[3];++cov_e98cbze1n.s[24];assert.ok(response.result.indexOf('<video controls=""')>-1,'Video controls');++cov_e98cbze1n.s[25];assert.ok(response.result.indexOf('><source src=')>-1,'Source element');++cov_e98cbze1n.s[26];assert.equal(((++cov_e98cbze1n.b[1][0],response.result.match(/><source src="/g))||(++cov_e98cbze1n.b[1][1],[])).length,sources.split(',').length,'Source elements count');++cov_e98cbze1n.s[27];assert.end();});});});});